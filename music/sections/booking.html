<!--================Booking Section =================-->
<section class="portfolio_details_area p_20" id="Booking">
    <div class="container">
        <h3>Booking</h3>
        <p>Interested in booking live music? Fill out the form below and I'll get back to you soon with our pricing and availability! I like to book shows in bulk, so feel free to ask for as many dates as you need.</p>
        <hr>
        <div class="portfolio_details_inner">
            <div class="row">
                <div class="col-md-12">
                    <div class="portfolio_right_text">
                        <!-- 
                            FORMSPREE SETUP INSTRUCTIONS:
                            1. Go to https://formspree.io and sign up (free account)
                            2. Click "New Form" and set the email to: hanusriley@gmail.com
                            3. Copy your form endpoint (looks like: https://formspree.io/f/xxxxxxxxxx)
                            4. Replace "YOUR_FORM_ID" in the form action below with your actual form ID
                            5. The form will then send emails to hanusriley@gmail.com when submitted
                        -->
                        <form id="bookingForm" action="https://formspree.io/f/xpqqaqrb" method="POST" style="max-width: 800px; margin: 0 auto;">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Your Name <span style="color: #d32f2f;">*</span></label>
                                    <input type="text" id="name" name="name" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="venue" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Your Venue's Name and Location <span style="color: #d32f2f;">*</span></label>
                                    <input type="text" id="venue" name="venue" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;" placeholder="Venue name, City, State">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="contact" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Your Contact Phone/Email <span style="color: #d32f2f;">*</span></label>
                                    <input type="text" id="contact" name="contact" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;" placeholder="Phone or email">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="bandSize" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Band Size <span style="color: #d32f2f;">*</span></label>
                                    <select id="bandSize" name="bandSize" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;">
                                        <option value="">Select an option...</option>
                                        <option value="Solo artist">Solo artist</option>
                                        <option value="Small group (2-3)">Small group (2-3)</option>
                                        <option value="Full band">Full band</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="sound" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Can you provide sound? <span style="color: #d32f2f;">*</span></label>
                                    <select id="sound" name="sound" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;">
                                        <option value="">Select an option...</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                        <option value="Partial">Partial</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="dates" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Dates you need music for? <span style="color: #d32f2f;">*</span></label>
                                    <input type="text" id="dates" name="dates" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif;" placeholder="e.g., March 15, 2024 or March 15-17, 2024">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 mb-3">
                                    <label for="message" style="display: block; margin-bottom: 5px; color: var(--text-color); font-weight: 500;">Additional Details (Optional)</label>
                                    <textarea id="message" name="message" rows="4" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: 'Roboto', sans-serif; resize: vertical;"></textarea>
                                </div>
                            </div>
                            <input type="hidden" name="_to" value="hanusriley@gmail.com">
                            <input type="hidden" name="_subject" value="New Booking Request from Music Website">
                            <input type="hidden" name="_replyto" value="">
                            <input type="text" name="_gotcha" style="display:none">
                            <div class="row">
                                <div class="col-md-12 text-center">
                                    <button type="submit" class="submit_btn" style="margin-top: 10px;">Submit Booking Request</button>
                                </div>
                            </div>
                            <div id="formStatus" style="margin-top: 15px; text-align: center; display: none;"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Booking Section =================-->
<script>
    // Booking form submission handler
    (function() {
        var form = document.getElementById('bookingForm');
        var statusDiv = document.getElementById('formStatus');
        
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                var submitBtn = form.querySelector('button[type="submit"]');
                var originalText = submitBtn.textContent;
                submitBtn.textContent = 'Sending...';
                submitBtn.disabled = true;
                statusDiv.style.display = 'none';
                
                // Get form data
                var formData = new FormData(form);
                
                // Set reply-to from contact field if it's an email
                var contactValue = form.querySelector('#contact').value;
                if (contactValue.includes('@')) {
                    formData.set('_replyto', contactValue);
                }
                
                // Submit to Formspree
                fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(function(response) {
                    if (response.ok) {
                        statusDiv.innerHTML = '<div style="color: #4caf50; padding: 10px; background-color: #e8f5e9; border-radius: 4px;">✓ Thank you! Your booking request has been sent. I\'ll get back to you soon!</div>';
                        statusDiv.style.display = 'block';
                        form.reset();
                    } else {
                        return response.json().then(function(data) {
                            throw new Error(data.error || 'Something went wrong');
                        });
                    }
                })
                .catch(function(error) {
                    statusDiv.innerHTML = '<div style="color: #d32f2f; padding: 10px; background-color: #ffebee; border-radius: 4px;">✗ There was an error sending your request. Please try again or contact hanusriley@gmail.com directly.</div>';
                    statusDiv.style.display = 'block';
                    console.error('Form submission error:', error);
                })
                .finally(function() {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
            });
        }
    })();
</script>
