<!--================Venues and Events Section =================-->
<section class="portfolio_details_area p_20" id="Venues">
    <div class="container">
        <h3>Venues and Events</h3>
        <p>Here are some of the venues and events I have played at with along with my collaborators.</p>
        <hr>
        <style>
            .venues-gallery-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px 0;
            }
            .venues-thumbnails-container {
                overflow-x: auto;
                overflow-y: hidden;
                padding: 10px 0;
                scroll-behavior: smooth;
            }
            .venues-thumbnails-container::-webkit-scrollbar {
                height: 8px;
            }
            .venues-thumbnails-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 4px;
            }
            .venues-thumbnails-container::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 4px;
            }
            .venues-thumbnails-container::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            .venues-thumbnails-grid {
                display: flex;
                flex-direction: row;
                gap: 15px;
                padding: 0 5px;
            }
            .venues-thumbnail-item {
                position: relative;
                border-radius: 8px;
                overflow: hidden;
                background: #000;
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);
                transition: all 0.3s ease;
                flex-shrink: 0;
                width: 250px;
                aspect-ratio: 4 / 3;
            }
            @media (max-width: 768px) {
                .venues-thumbnail-item {
                    width: 200px;
                }
            }
            .venues-thumbnail-item:hover {
                transform: translateY(-5px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            }
            .venues-thumbnail-item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }
            .venues-thumbnail-label {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
                color: white;
                padding: 10px;
                font-size: 0.9em;
                text-align: center;
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            .venues-thumbnail-item:hover .venues-thumbnail-label {
                opacity: 1;
            }
        </style>
        <div class="venues-gallery-container">
            <div class="venues-thumbnails-container">
                <div class="venues-thumbnails-grid" id="venuesThumbnailsGrid"></div>
            </div>
        </div>
        <script>
            (function() {
                const thumbnailsGrid = document.getElementById('venuesThumbnailsGrid');
                if (!thumbnailsGrid) return;

                // Base path for music folder (works when page is /music/index.html or /music/)
                const pathname = window.location.pathname;
                let basePath = pathname.replace(/\/[^/]*$/, '/') || '/';
                if (!basePath.endsWith('/')) basePath += '/';

                async function loadVenues() {
                    try {
                        const jsonUrl = basePath + 'promo/veneus/venues.json';
                        const response = await fetch(jsonUrl);
                        if (!response.ok) throw new Error('Failed to load venues.json');
                        const venueData = await response.json();

                        const venues = venueData.map(function(venue) {
                            return {
                                src: basePath + 'promo/veneus/' + venue.src,
                                title: venue.title
                            };
                        });

                        venues.forEach(function(venue) {
                            const item = document.createElement('div');
                            item.className = 'venues-thumbnail-item';

                            const img = document.createElement('img');
                            img.src = venue.src;
                            img.alt = venue.title;
                            img.onerror = function() {
                                item.style.background = '#333';
                                item.appendChild(document.createTextNode(venue.title));
                            };

                            const label = document.createElement('div');
                            label.className = 'venues-thumbnail-label';
                            label.textContent = venue.title;

                            item.appendChild(img);
                            item.appendChild(label);
                            thumbnailsGrid.appendChild(item);
                        });
                    } catch (error) {
                        console.error('Error loading venues:', error);
                        thumbnailsGrid.innerHTML = '<p style="color: #666; padding: 20px;">Unable to load venues. Please refresh the page.</p>';
                    }
                }

                loadVenues();
            })();
        </script>
    </div>
</section>
<!--================End Venues and Events Section =================-->
