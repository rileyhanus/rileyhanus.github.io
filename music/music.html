<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="../img/icon/icon.png" type="image/png">
        <title>Riley Hanus</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="../css/bootstrap.css">
        <link rel="stylesheet" href="../vendors/linericon/style.css">
        <link rel="stylesheet" href="../css/font-awesome.min.css">
        <link rel="stylesheet" href="../vendors/owl-carousel/owl.carousel.min.css">
        <link rel="stylesheet" href="../vendors/lightbox/simpleLightbox.css">
        <link rel="stylesheet" href="../vendors/nice-select/css/nice-select.css">
        <link rel="stylesheet" href="../vendors/animate-css/animate.css">
        <link rel="stylesheet" href="../vendors/flaticon/flaticon.css">
        <!-- main css -->
        <link rel="stylesheet" href="../css/style.css">
        <link rel="stylesheet" href="../css/responsive.css">
        <link rel="stylesheet" href="../css/custom.css">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-SK1MWKSVEB"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-SK1MWKSVEB');
        </script>
    </head>
    <body>

        <!--================Header Menu Area =================-->
        <header class="header_area navbar_fixed">
            <div class="main_menu" id="mainNav">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <div class="container box_1620">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <a class="navbar-brand logo_h" href="../index.html">Riley Hanus: Music</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
                            <ul class="nav navbar-nav menu_nav ml-auto">
                                <li class="nav-item active"><a class="nav-link" href="#About">About</a></li>
                                <li class="nav-item"><a class="nav-link" href="#Setlist">Setlist</a></li>
                                <li class="nav-item"><a class="nav-link" href="#Booking">Booking</a></li>
                                <li class="nav-item active"><a class="nav-link" href="#Cold-Turkey">Cold Turkey</a></li>
                                <li class="nav-item"><a class="nav-link" href="#TRQ">The Real Quaid</a></li>
                                <!-- <li class="nav-item"><a class="nav-link" href="#Contact">The Studio</a></li> -->
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <!--================Header Menu Area =================-->
        
        <!-- Section container where all sections will be loaded dynamically -->
        <div id="sections-container"></div>

        <!-- Section loader script -->
        <script>
            // Array of section files to load in order
            const sections = [
                'sections/about.html',
                'sections/videos.html',
                'sections/setlist.html',
                'sections/booking.html',
                'sections/cold-turkey.html',
                'sections/the-real-quaid.html'
            ];

            // Function to execute scripts within loaded HTML
            function executeScripts(container) {
                const scripts = container.querySelectorAll('script');
                scripts.forEach(function(oldScript) {
                    const newScript = document.createElement('script');
                    Array.from(oldScript.attributes).forEach(function(attr) {
                        newScript.setAttribute(attr.name, attr.value);
                    });
                    newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                    oldScript.parentNode.replaceChild(newScript, oldScript);
                });
            }

            // Function to load a section
            function loadSection(sectionPath) {
                return fetch(sectionPath)
                    .then(function(response) {
                        if (!response.ok) {
                            throw new Error('Failed to load: ' + sectionPath);
                        }
                        return response.text();
                    })
                    .then(function(html) {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        const section = doc.body.firstElementChild;
                        
                        // Append section to container
                        const container = document.getElementById('sections-container');
                        container.appendChild(section);
                        
                        // Execute any scripts in the loaded section (after it's appended to DOM)
                        executeScripts(section);
                        
                        return section;
                    });
            }

            // Load all sections sequentially
            document.addEventListener('DOMContentLoaded', function() {
                let loadPromise = Promise.resolve();
                
                sections.forEach(function(sectionPath) {
                    loadPromise = loadPromise.then(function() {
                        return loadSection(sectionPath);
                    });
                });
            });
        </script>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="../js/jquery-3.2.1.min.js"></script>
        <script src="../js/popper.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script src="../js/stellar.js"></script>
        <script src="../vendors/lightbox/simpleLightbox.min.js"></script>
        <script src="../vendors/nice-select/js/jquery.nice-select.min.js"></script>
        <script src="../vendors/isotope/imagesloaded.pkgd.min.js"></script>
        <script src="../vendors/isotope/isotope-min.js"></script>
        <script src="../vendors/owl-carousel/owl.carousel.min.js"></script>
        <script src="../js/jquery.ajaxchimp.min.js"></script>
        <script src="../vendors/counter-up/jquery.waypoints.min.js"></script>
        <script src="../vendors/counter-up/jquery.counterup.min.js"></script>
        <script src="../js/mail-script.js"></script>
        <!--gmaps Js-->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
        <script src="../js/gmaps.min.js"></script>
        <script src="../js/theme.js"></script>
        <script>
            // Booking form submission handler
            (function() {
                var form = document.getElementById('bookingForm');
                var statusDiv = document.getElementById('formStatus');
                
                if (form) {
                    form.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        var submitBtn = form.querySelector('button[type="submit"]');
                        var originalText = submitBtn.textContent;
                        submitBtn.textContent = 'Sending...';
                        submitBtn.disabled = true;
                        statusDiv.style.display = 'none';
                        
                        // Get form data
                        var formData = new FormData(form);
                        
                        // Set reply-to from contact field if it's an email
                        var contactValue = form.querySelector('#contact').value;
                        if (contactValue.includes('@')) {
                            formData.set('_replyto', contactValue);
                        }
                        
                        // Submit to Formspree
                        fetch(form.action, {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        })
                        .then(function(response) {
                            if (response.ok) {
                                statusDiv.innerHTML = '<div style="color: #4caf50; padding: 10px; background-color: #e8f5e9; border-radius: 4px;">✓ Thank you! Your booking request has been sent. I\'ll get back to you soon!</div>';
                                statusDiv.style.display = 'block';
                                form.reset();
                            } else {
                                return response.json().then(function(data) {
                                    throw new Error(data.error || 'Something went wrong');
                                });
                            }
                        })
                        .catch(function(error) {
                            statusDiv.innerHTML = '<div style="color: #d32f2f; padding: 10px; background-color: #ffebee; border-radius: 4px;">✗ There was an error sending your request. Please try again or contact hanusriley@gmail.com directly.</div>';
                            statusDiv.style.display = 'block';
                            console.error('Form submission error:', error);
                        })
                        .finally(function() {
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                        });
                    });
                }
            })();
        </script>
    </body>
</html>